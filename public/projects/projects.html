
<!-- TODO: make grid, also structure project fields -->
<h1>Projects</h1>
<div id="projects" class="projects-wrapper"></div>

<script>
    (async () => {
        try {
            const response = await fetch('/api/projects');
            const result = await response.json();

            /* $.map(result.projects, function(value, index) {
                Object.entries(value).map(entry => {
                    console.log(entry);
                    $('#projects').append(
                        `<p>${entry[0]}: ${entry[1]}</p>`   
                    );
                });
            }); */

            $.map(result.projects, function(value, index) {
                $('#projects').append(
                    `<div class="card">
                        <h2><b>Title:</b> ${value.title}</h2>
                        <p><b>Description:</b><br> ${value.description}</p>
                        <p><b>Github:</b> <a href="${value.gitLink}">${value.gitLink}</a></p>
                        <p><b>Demo:</b> <a href="${value.hostedLink}">${value.hostedLink}</a></p>
                    </div>
                    <div class="projectImg">
                        <img src="${value.img}">
                    </div>`
                );
            });

        } catch (error) {
            console.log(error);
        }
    })()

    
</script>